export const NATIVE_KOREAN_NAME_SOURCE =
  '나무위키 고유어 이름 문서 5.1~5.14 구간';

export const NATIVE_KOREAN_NAMES: readonly string[] = [
  '가람',
  '가온',
  '가을',
  '겨레',
  '겨울',
  '고은',
  '고운',
  '구름',
  '구슬',
  '그루',
  '기쁨',
  '꽃님',
  '꽃봄',
  '나나',
  '나라',
  '나래',
  '나루',
  '나르샤',
  '나리',
  '나린',
  '나림',
  '나무',
  '나은',
  '나봄',
  '노을',
  '누리',
  '누림',
  '눈꽃',
  '눈솔',
  '늘봄',
  '늘빛',
  '늘찬',
  '다래',
  '다롱',
  '다봄',
  '다솜',
  '다소니',
  '다온',
  '다올',
  '다은',
  '다빛',
  '다한',
  '다함',
  '다해',
  '다희',
  '다흰',
  '단비',
  '단아',
  '달래',
  '달빛',
  '도담',
  '도란',
  '도운',
  '도움',
  '두나',
  '두루',
  '두리',
  '두온',
  '두별',
  '둘리',
  '든해',
  '들레',
  '들샘',
  '들찬',
  '라온',
  '로다',
  '로라',
  '로운',
  '루다',
  '루리',
  '마루',
  '마리',
  '마음',
  '맑음',
  '미리내',
  '미르',
  '믿음',
  '바다',
  '바람',
  '반디',
  '벼리',
  '별님',
  '별비',
  '별빛',
  '별솔',
  '보나',
  '보니',
  '보담',
  '보라',
  '보람',
  '보미',
  '보슬',
  '봄나',
  '봄소리',
  '봄이',
  '봄해',
  '빛나',
  '빛가람',
  '빛내리',
  '빛바다',
  '빛찬',
  '빛솔',
  '사랑',
  '산들',
  '새결',
  '새길',
  '새꽃',
  '새늘',
  '새록',
  '새론',
  '새롬',
  '새벽',
  '새봄',
  '새라',
  '새솔',
  '샛별',
  '서린',
  '서림',
  '세나',
  '세움',
  '세찬',
  '소담',
  '소라',
  '소리',
  '소망',
  '솔비',
  '솔잎',
  '솔찬',
  '슬기',
  '슬비',
  '시원',
  '아라',
  '아람',
  '아롱',
  '아름',
  '아리',
  '아리수',
  '아림',
  '아진',
  '아침',
  '어진',
  '여름',
  '여울',
  '열매',
  '예리',
  '우람',
  '우리',
  '윤슬',
  '으뜸',
  '은가람',
  '은누리',
  '이든',
  '이룸',
  '이른',
  '이슬',
  '이레',
  '이삭',
  '잎새',
  '자란',
  '자람',
  '잔디',
  '재미',
  '재찬',
  '제나',
  '조아',
  '조이',
  '종달',
  '주미',
  '주아',
  '주나',
  '주리',
  '지나',
  '지니',
  '지은',
  '지음',
  '진솔',
  '차나',
  '차미',
  '찬내',
  '찬들',
  '찬솔',
  '초롱',
  '초롬',
  '치리',
  '큰가람',
  '큰길',
  '큰꽃',
  '큰나라',
  '큰나무',
  '큰별',
  '큰솔',
  '큰재',
  '큰힘',
  '키움',
  '토리',
  '티나',
  '파랑',
  '파란',
  '포근',
  '푸르내',
  '푸른',
  '푸름',
  '푸르름',
  '푸르미',
  '풀잎',
  '피나',
  '피네',
  '피라',
  '피리',
  '하나',
  '하늘',
  '하니',
  '하늬',
  '하루',
  '하랑',
  '하람',
  '하얀',
  '하양',
  '하리',
  '한나',
  '한내',
  '한누리',
  '한별',
  '한결',
  '한길',
  '한빛',
  '한샘',
  '한솔',
  '한얼',
  '한울',
  '해나',
  '해늘',
  '해님',
  '해든',
  '해봄',
  '해빛',
  '해솔',
  '햇님',
  '햇살',
  '혜윰',
  '흰가람',
  '흰꽃',
  '흰별',
  '흰샘',
];

function hashString(input: string): number {
  let hash = 2166136261;
  for (let i = 0; i < input.length; i += 1) {
    hash ^= input.charCodeAt(i);
    hash = Math.imul(hash, 16777619);
  }
  return hash >>> 0;
}

export function pickNativeKoreanNames(params: {
  count: number;
  seed: string;
  excludeNames?: string[];
}): string[] {
  const { count, seed, excludeNames = [] } = params;
  const excludes = new Set(excludeNames);
  const pool = NATIVE_KOREAN_NAMES.filter((name) => !excludes.has(name));

  if (count <= 0 || pool.length === 0) {
    return [];
  }

  const picked: string[] = [];
  const used = new Set<number>();
  const seedHash = hashString(seed);
  const step = (seedHash % Math.max(pool.length - 1, 1)) + 1;

  let index = seedHash % pool.length;
  while (picked.length < count && used.size < pool.length) {
    if (!used.has(index)) {
      used.add(index);
      picked.push(pool[index]);
    }
    index = (index + step) % pool.length;
  }

  return picked;
}
